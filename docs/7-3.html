<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-15T20:23:47.809356288"><title>7.3 Estrutura de diret&oacute;rio e disco | Operating Systems: Architecture, Concepts and Implementation</title><script type="application/json" id="virtual-toc-data">[{"id":"1-sistemas-de-arquivos-especiais-solaris-e-outros","level":0,"title":"1. Sistemas de Arquivos Especiais (Solaris e Outros)","anchor":"#1-sistemas-de-arquivos-especiais-solaris-e-outros"},{"id":"2-estruturas-de-diret-rios","level":0,"title":"2. Estruturas de Diretórios","anchor":"#2-estruturas-de-diret-rios"},{"id":"3-implementa-o-pr-tica-em-java","level":0,"title":"3. Implementação Prática em Java","anchor":"#3-implementa-o-pr-tica-em-java"},{"id":"4-t-cnicas-avan-adas","level":0,"title":"4. Técnicas Avançadas","anchor":"#4-t-cnicas-avan-adas"},{"id":"5-tabela-de-opera-es-por-estrutura","level":0,"title":"5. Tabela de Operações por Estrutura","anchor":"#5-tabela-de-opera-es-por-estrutura"},{"id":"6-exerc-cios-pr-ticos","level":0,"title":"6. Exercícios Práticos","anchor":"#6-exerc-cios-pr-ticos"},{"id":"mindmap","level":0,"title":"Mindmap","anchor":"#mindmap"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="7.3 Estrutura de diret&oacute;rio e disco | Operating Systems: Architecture, Concepts and Implementation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Operating Systems: Architecture, Concepts and Implementation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/7-3.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="7.3 Estrutura de diret&oacute;rio e disco | Operating Systems: Architecture, Concepts and Implementation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/7-3.html#webpage",
    "url": "writerside-documentation/7-3.html",
    "name": "7.3 Estrutura de diret&oacute;rio e disco | Operating Systems: Architecture, Concepts and Implementation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Operating Systems: Architecture, Concepts and Implementation Help"
}</script><!-- End Schema.org --></head><body data-id="7-3" data-main-title="7.3 Estrutura de diretório e disco" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="5. Mass Storage Structure"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Operating Systems: Architecture, Concepts and Implementation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="7-3" id="7-3.md">7.3 Estrutura de diretório e disco</h1><section class="chapter"><h2 id="1-sistemas-de-arquivos-especiais-solaris-e-outros" data-toc="1-sistemas-de-arquivos-especiais-solaris-e-outros"><span class="control" id="-i7ctdg_12">1. Sistemas de Arquivos Especiais (Solaris e Outros)</span></h2><section class="chapter"><h3 id="1-1-tipos-de-sistemas-de-arquivos" data-toc="1-1-tipos-de-sistemas-de-arquivos"><span class="control" id="-i7ctdg_15">1.1 Tipos de Sistemas de Arquivos</span></h3><div class="table-wrapper"><table class="wide" id="-i7ctdg_14"><thead><tr class="ijRowHead" id="-i7ctdg_16"><th id="-i7ctdg_23"><p><span class="control" id="-i7ctdg_26">Tipo</span></p></th><th id="-i7ctdg_24"><p><span class="control" id="-i7ctdg_27">Descri&ccedil;&atilde;o</span></p></th><th id="-i7ctdg_25"><p><span class="control" id="-i7ctdg_28">Analogia Minecraft</span></p></th></tr></thead><tbody><tr id="-i7ctdg_17"><td id="-i7ctdg_29"><p><span class="control" id="-i7ctdg_32">tmpfs</span></p></td><td id="-i7ctdg_30"><p>Sistema tempor&aacute;rio em mem&oacute;ria vol&aacute;til</p></td><td id="-i7ctdg_31"><p>Ba&uacute; que some ao sair do mundo</p></td></tr><tr id="-i7ctdg_18"><td id="-i7ctdg_33"><p><span class="control" id="-i7ctdg_36">objfs</span></p></td><td id="-i7ctdg_34"><p>Interface para s&iacute;mbolos do kernel</p></td><td id="-i7ctdg_35"><p>Livro de receitas de crafting do sistema</p></td></tr><tr id="-i7ctdg_19"><td id="-i7ctdg_37"><p><span class="control" id="-i7ctdg_40">ctfs</span></p></td><td id="-i7ctdg_38"><p>Armazena contratos de inicializa&ccedil;&atilde;o</p></td><td id="-i7ctdg_39"><p>Painel de controle do servidor</p></td></tr><tr id="-i7ctdg_20"><td id="-i7ctdg_41"><p><span class="control" id="-i7ctdg_44">lofs</span></p></td><td id="-i7ctdg_42"><p>Sistema de &quot;loop back&quot; para redirecionamento</p></td><td id="-i7ctdg_43"><p>Portal que leva a outro ba&uacute;</p></td></tr><tr id="-i7ctdg_21"><td id="-i7ctdg_45"><p><span class="control" id="-i7ctdg_48">procfs</span></p></td><td id="-i7ctdg_46"><p>Apresenta processos como arquivos</p></td><td id="-i7ctdg_47"><p>Painel de status dos jogadores</p></td></tr><tr id="-i7ctdg_22"><td id="-i7ctdg_49"><p><span class="control" id="-i7ctdg_52">ufs/zfs</span></p></td><td id="-i7ctdg_50"><p>Sistemas de arquivos de uso geral</p></td><td id="-i7ctdg_51"><p>Ba&uacute;s convencionais</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="2-estruturas-de-diret-rios" data-toc="2-estruturas-de-diret-rios"><span class="control" id="-i7ctdg_61">2. Estruturas de Diret&oacute;rios</span></h2><section class="chapter"><h3 id="2-1-diret-rio-de-nico-n-vel" data-toc="2-1-diret-rio-de-nico-n-vel"><span class="control" id="-i7ctdg_63">2.1. Diret&oacute;rio de &Uacute;nico N&iacute;vel</span></h3></section><section class="chapter"><h3 id="caracter-sticas" data-toc="caracter-sticas"><span class="control" id="-i7ctdg_70">Caracter&iacute;sticas</span></h3><ul class="list _bullet" id="-i7ctdg_65"><li class="list__item" id="-i7ctdg_71"><p id="-i7ctdg_74">Todos os arquivos em um &uacute;nico diret&oacute;rio</p></li><li class="list__item" id="-i7ctdg_72"><p id="-i7ctdg_75">Nomes de arquivos devem ser &uacute;nicos</p></li><li class="list__item" id="-i7ctdg_73"><p id="-i7ctdg_76">Sem organiza&ccedil;&atilde;o hier&aacute;rquica</p></li></ul><p id="-i7ctdg_66"><span class="control" id="-i7ctdg_77">Problemas</span>:</p><ul class="list _bullet" id="-i7ctdg_67"><li class="list__item" id="-i7ctdg_78"><p id="-i7ctdg_80">Colis&otilde;es de nomes entre usu&aacute;rios</p></li><li class="list__item" id="-i7ctdg_79"><p id="-i7ctdg_81">Dificuldade de organiza&ccedil;&atilde;o para muitos arquivos</p></li></ul><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0.000003814697265625 554.765625 194.47915649414062" height="194.47915649414062" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="554.765625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_F1_0" d="M218.602,63.134L195.418,70.525C172.234,77.916,125.867,92.698,102.684,102.172C79.5,111.646,79.5,115.812,79.5,119.312C79.5,122.812,79.5,125.646,79.5,127.062L79.5,128.479"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_F2_1" d="M274.734,82.479L274.734,86.646C274.734,90.812,274.734,99.146,274.734,105.396C274.734,111.646,274.734,115.812,274.734,119.312C274.734,122.812,274.734,125.646,274.734,127.062L274.734,128.479"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_F3_2" d="M330.867,62.895L354.492,70.326C378.117,77.756,425.367,92.618,448.992,102.132C472.617,111.646,472.617,115.812,472.617,119.312C472.617,122.812,472.617,125.646,472.617,127.062L472.617,128.479"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(274.734375, 45.23957824707031)" id="flowchart-R-3984" class="node default"><path transform="translate(-56.1328125, -37.24366150806718)" style="" class="basic label-container" d="M0,11.829107672044781 a56.1328125,11.829107672044781 0,0,0 112.265625,0 a56.1328125,11.829107672044781 0,0,0 -112.265625,0 l0,50.829107672044785 a56.1328125,11.829107672044781 0,0,0 112.265625,0 l0,-50.829107672044785"></path><g transform="translate(-48.6328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Diretório Raiz</p></span></div></foreignObject></g></g><g transform="translate(79.5, 159.47915649414062)" id="flowchart-F1-3985" class="node default"><rect height="54" width="143" y="-27" x="-71.5" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-41.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="83"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>arquivo1.txt</p></span></div></foreignObject></g></g><g transform="translate(274.734375, 159.47915649414062)" id="flowchart-F2-3987" class="node default"><rect height="54" width="147.46875" y="-27" x="-73.734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-43.734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="87.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>arquivo2.log</p></span></div></foreignObject></g></g><g transform="translate(472.6171875, 159.47915649414062)" id="flowchart-F3-3989" class="node default"><rect height="54" width="148.296875" y="-27" x="-74.1484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-44.1484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="88.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>imagem.png</p></span></div></foreignObject></g></g></g></g></g></svg><section class="chapter"><h4 id="implementa-o-java_1" data-toc="implementa-o-java_1"><span class="control" id="-i7ctdg_84">Implementa&ccedil;&atilde;o Java</span></h4><div class="code-block" data-lang="java">
import java.io.File;
import java.util.Arrays;

public class SingleLevelDirectory {
    public static void main(String[] args) {
        File root = new File(&quot;/tmp/root_dir&quot;);
        root.mkdir();
        
        // Criar arquivos
        Arrays.asList(&quot;file1.txt&quot;, &quot;file2.dat&quot;, &quot;document.pdf&quot;).forEach(f -&gt; {
            try {
                new File(root, f).createNewFile();
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
        
        // Listar conteúdo
        System.out.println(&quot;Arquivos no diretório único:&quot;);
        Arrays.stream(root.listFiles()).forEach(System.out::println);
    }
}
</div></section></section><section class="chapter"><h3 id="2-2-diret-rio-de-dois-n-veis" data-toc="2-2-diret-rio-de-dois-n-veis"><span class="control" id="-i7ctdg_88">2.2 Diret&oacute;rio de Dois N&iacute;veis</span></h3><section class="chapter"><h4 id="caracter-sticas_4" data-toc="caracter-sticas_4"><span class="control" id="-i7ctdg_92">Caracter&iacute;sticas</span></h4><ul class="list _bullet" id="-i7ctdg_90"><li class="list__item" id="-i7ctdg_93"><p id="-i7ctdg_96">Diret&oacute;rio mestre (MFD) cont&eacute;m diret&oacute;rios de usu&aacute;rios (UFD)</p></li><li class="list__item" id="-i7ctdg_94"><p id="-i7ctdg_97">Isolamento entre usu&aacute;rios</p></li><li class="list__item" id="-i7ctdg_95"><p id="-i7ctdg_98">Resolve problema de colis&atilde;o de nomes</p></li></ul><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 665.6875 278"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="665.6875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MFD_UFD1_0" d="M236.456,62L222.44,66.167C208.424,70.333,180.392,78.667,166.376,84.917C152.359,91.167,152.359,95.333,152.359,98.833C152.359,102.333,152.359,105.167,152.359,106.583L152.359,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MFD_UFD2_1" d="M416.84,62L430.661,66.167C444.482,70.333,472.124,78.667,485.945,84.917C499.766,91.167,499.766,95.333,499.766,98.833C499.766,102.333,499.766,105.167,499.766,106.583L499.766,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UFD1_F1_2" d="M107.58,166L100.669,170.167C93.759,174.333,79.938,182.667,73.028,188.917C66.117,195.167,66.117,199.333,66.117,202.833C66.117,206.333,66.117,209.167,66.117,210.583L66.117,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UFD1_F2_3" d="M197.139,166L204.049,170.167C210.96,174.333,224.781,182.667,231.691,188.917C238.602,195.167,238.602,199.333,238.602,202.833C238.602,206.333,238.602,209.167,238.602,210.583L238.602,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UFD2_F3_4" d="M453.72,166L446.615,170.167C439.509,174.333,425.297,182.667,418.192,188.917C411.086,195.167,411.086,199.333,411.086,202.833C411.086,206.333,411.086,209.167,411.086,210.583L411.086,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UFD2_F4_5" d="M545.811,166L552.917,170.167C560.022,174.333,574.234,182.667,581.34,188.917C588.445,195.167,588.445,199.333,588.445,202.833C588.445,206.333,588.445,209.167,588.445,210.583L588.445,212"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(327.28125, 35)" id="flowchart-MFD-4117" class="node default"><rect height="54" width="208.09375" y="-27" x="-104.046875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-74.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Master File Directory</p></span></div></foreignObject></g></g><g transform="translate(152.359375, 139)" id="flowchart-UFD1-4118" class="node default"><rect height="54" width="124.234375" y="-27" x="-62.1171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Usuário1</p></span></div></foreignObject></g></g><g transform="translate(499.765625, 139)" id="flowchart-UFD2-4120" class="node default"><rect height="54" width="124.234375" y="-27" x="-62.1171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Usuário2</p></span></div></foreignObject></g></g><g transform="translate(66.1171875, 243)" id="flowchart-F1-4122" class="node default"><rect height="54" width="116.234375" y="-27" x="-58.1171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="56.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>doc1.txt</p></span></div></foreignObject></g></g><g transform="translate(238.6015625, 243)" id="flowchart-F2-4124" class="node default"><rect height="54" width="128.734375" y="-27" x="-64.3671875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-34.3671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="68.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>config.cfg</p></span></div></foreignObject></g></g><g transform="translate(411.0859375, 243)" id="flowchart-F3-4126" class="node default"><rect height="54" width="116.234375" y="-27" x="-58.1171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="56.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>doc1.txt</p></span></div></foreignObject></g></g><g transform="translate(588.4453125, 243)" id="flowchart-F4-4128" class="node default"><rect height="54" width="138.484375" y="-27" x="-69.2421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-39.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="78.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>game.save</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h4 id="implementa-o-java_2" data-toc="implementa-o-java_2"><span class="control" id="-i7ctdg_101">Implementa&ccedil;&atilde;o Java</span></h4><div class="code-block" data-lang="java">
import java.io.File;
import java.util.HashMap;
import java.util.Map;

public class TwoLevelDirectory {
    private static Map&lt;String, File&gt; userDirs = new HashMap&lt;&gt;();
    
    public static void main(String[] args) {
        // Criar estrutura
        File mfd = new File(&quot;/tmp/mfd&quot;);
        mfd.mkdir();
        
        // Adicionar usuários
        addUser(&quot;alice&quot;);
        addUser(&quot;bob&quot;);
        
        // Criar arquivos
        createFile(&quot;alice&quot;, &quot;notes.txt&quot;);
        createFile(&quot;bob&quot;, &quot;notes.txt&quot;); // Nome repetido permitido
        
        System.out.println(&quot;Estrutura criada em: &quot; + mfd.getAbsolutePath());
    }
    
    private static void addUser(String username) {
        File userDir = new File(&quot;/tmp/mfd/&quot; + username);
        userDir.mkdir();
        userDirs.put(username, userDir);
    }
    
    private static void createFile(String user, String filename) {
        try {
            new File(userDirs.get(user), filename).createNewFile();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</div></section></section><section class="chapter"><h3 id="2-3-estrutura-em-rvore" data-toc="2-3-estrutura-em-rvore"><span class="control" id="-i7ctdg_105">2.3 Estrutura em &Aacute;rvore</span></h3><section class="chapter"><h4 id="caracter-sticas_1" data-toc="caracter-sticas_1"><span class="control" id="-i7ctdg_109">Caracter&iacute;sticas</span></h4><ul class="list _bullet" id="-i7ctdg_107"><li class="list__item" id="-i7ctdg_110"><p id="-i7ctdg_113">Hierarquia ilimitada de subdiret&oacute;rios</p></li><li class="list__item" id="-i7ctdg_111"><p id="-i7ctdg_114">Caminhos absolutos e relativos</p></li><li class="list__item" id="-i7ctdg_112"><p id="-i7ctdg_115">Organiza&ccedil;&atilde;o l&oacute;gica de arquivos</p></li></ul><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 671.64453125 481.11407470703125" height="481.11407470703125" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="671.64453125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_etc_0" d="M490.621,57.114L490.621,61.281C490.621,65.447,490.621,73.781,490.621,80.031C490.621,86.281,490.621,90.447,490.621,93.947C490.621,97.447,490.621,100.281,490.621,101.697L490.621,103.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_home_1" d="M480.879,34.573L442.582,42.496C404.285,50.42,327.691,66.267,289.395,76.274C251.098,86.281,251.098,90.447,251.098,93.947C251.098,97.447,251.098,100.281,251.098,101.697L251.098,103.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_usr_2" d="M500.363,36.218L520.717,43.868C541.072,51.517,581.78,66.815,602.134,76.548C622.488,86.281,622.488,90.447,622.488,93.947C622.488,97.447,622.488,100.281,622.488,101.697L622.488,103.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_home_user1_3" d="M212.115,161.114L206.099,165.281C200.083,169.447,188.051,177.781,182.035,184.031C176.02,190.281,176.02,194.447,176.02,197.947C176.02,201.447,176.02,204.281,176.02,205.697L176.02,207.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_home_user2_4" d="M290.081,161.114L296.096,165.281C302.112,169.447,314.144,177.781,320.16,184.031C326.176,190.281,326.176,194.447,326.176,197.947C326.176,201.447,326.176,204.281,326.176,205.697L326.176,207.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_user1_docs_5" d="M126.374,265.114L118.713,269.281C111.052,273.447,95.729,281.781,88.068,288.031C80.406,294.281,80.406,298.447,80.406,301.947C80.406,305.447,80.406,308.281,80.406,309.697L80.406,311.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_user1_downloads_6" d="M225.665,265.114L233.326,269.281C240.988,273.447,256.31,281.781,263.971,288.031C271.633,294.281,271.633,298.447,271.633,301.947C271.633,305.447,271.633,308.281,271.633,309.697L271.633,311.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_docs_F1_7" d="M80.406,369.114L80.406,373.281C80.406,377.447,80.406,385.781,80.406,392.031C80.406,398.281,80.406,402.447,80.406,405.947C80.406,409.447,80.406,412.281,80.406,413.697L80.406,415.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_downloads_F2_8" d="M271.633,369.114L271.633,373.281C271.633,377.447,271.633,385.781,271.633,392.031C271.633,398.281,271.633,402.447,271.633,405.947C271.633,409.447,271.633,412.281,271.633,413.697L271.633,415.114"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_etc_F3_9" d="M490.621,161.114L490.621,165.281C490.621,169.447,490.621,177.781,490.621,184.031C490.621,190.281,490.621,194.447,490.621,197.947C490.621,201.447,490.621,204.281,490.621,205.697L490.621,207.114"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(490.62109375, 32.557044982910156)" id="flowchart-R-4191" class="node default"><path transform="translate(-9.7421875, -24.557045528279442)" style="" class="basic label-container" d="M0,3.371363685519628 a9.7421875,3.371363685519628 0,0,0 19.484375,0 a9.7421875,3.371363685519628 0,0,0 -19.484375,0 l0,42.371363685519626 a9.7421875,3.371363685519628 0,0,0 19.484375,0 l0,-42.371363685519626"></path><g transform="translate(-2.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="4.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>/</p></span></div></foreignObject></g></g><g transform="translate(490.62109375, 134.1140899658203)" id="flowchart-etc-4192" class="node default"><rect height="54" width="81.421875" y="-27" x="-40.7109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-10.7109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="21.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>etc</p></span></div></foreignObject></g></g><g transform="translate(251.09765625, 134.1140899658203)" id="flowchart-home-4194" class="node default"><rect height="54" width="100.125" y="-27" x="-50.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-20.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="40.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>home</p></span></div></foreignObject></g></g><g transform="translate(622.48828125, 134.1140899658203)" id="flowchart-usr-4196" class="node default"><rect height="54" width="82.3125" y="-27" x="-41.15625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-11.15625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="22.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>usr</p></span></div></foreignObject></g></g><g transform="translate(176.01953125, 238.1140899658203)" id="flowchart-user1-4198" class="node default"><rect height="54" width="100.15625" y="-27" x="-50.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-20.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="40.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>user1</p></span></div></foreignObject></g></g><g transform="translate(326.17578125, 238.1140899658203)" id="flowchart-user2-4200" class="node default"><rect height="54" width="100.15625" y="-27" x="-50.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-20.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="40.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>user2</p></span></div></foreignObject></g></g><g transform="translate(80.40625, 342.1140899658203)" id="flowchart-docs-4202" class="node default"><rect height="54" width="93.90625" y="-27" x="-46.953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-16.953125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="33.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>docs</p></span></div></foreignObject></g></g><g transform="translate(271.6328125, 342.1140899658203)" id="flowchart-downloads-4204" class="node default"><rect height="54" width="136.71875" y="-27" x="-68.359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-38.359375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="76.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>downloads</p></span></div></foreignObject></g></g><g transform="translate(80.40625, 446.1140899658203)" id="flowchart-F1-4206" class="node default"><rect height="54" width="144.8125" y="-27" x="-72.40625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.40625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="84.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>relatorio.pdf</p></span></div></foreignObject></g></g><g transform="translate(271.6328125, 446.1140899658203)" id="flowchart-F2-4208" class="node default"><rect height="54" width="137.640625" y="-27" x="-68.8203125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-38.8203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="77.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>arquivo.zip</p></span></div></foreignObject></g></g><g transform="translate(490.62109375, 238.1140899658203)" id="flowchart-F3-4210" class="node default"><rect height="54" width="128.734375" y="-27" x="-64.3671875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-34.3671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="68.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>config.cfg</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h4 id="implementa-o-java-usando-nio" data-toc="implementa-o-java-usando-nio"><span class="control" id="-i7ctdg_118">Implementa&ccedil;&atilde;o Java (usando NIO)</span></h4><div class="code-block" data-lang="java">
import java.nio.file.*;

public class TreeStructure {
    public static void main(String[] args) throws Exception {
        Path root = Paths.get(&quot;/tmp/fs_tree&quot;);
        
        // Criar estrutura
        Files.createDirectories(root.resolve(&quot;home/user1/documents&quot;));
        Files.createDirectories(root.resolve(&quot;home/user2/downloads&quot;));
        Files.createDirectories(root.resolve(&quot;etc/config&quot;));
        
        // Criar arquivos
        Files.write(root.resolve(&quot;home/user1/documents/notes.txt&quot;), 
                   &quot;Conteúdo&quot;.getBytes());
        
        // Listar recursivamente
        System.out.println(&quot;Estrutura completa:&quot;);
        Files.walk(root).forEach(System.out::println);
    }
}
</div></section></section><section class="chapter"><h3 id="2-4-grafo-ac-clico" data-toc="2-4-grafo-ac-clico"><span class="control" id="-i7ctdg_122">2.4 Grafo Ac&iacute;clico</span></h3><section class="chapter"><h4 id="caracter-sticas_2" data-toc="caracter-sticas_2"><span class="control" id="-i7ctdg_126">Caracter&iacute;sticas</span></h4><ul class="list _bullet" id="-i7ctdg_124"><li class="list__item" id="-i7ctdg_127"><p id="-i7ctdg_130">Permite compartilhamento via links</p></li><li class="list__item" id="-i7ctdg_128"><p id="-i7ctdg_131">Estrutura n&atilde;o-linear sem ciclos</p></li><li class="list__item" id="-i7ctdg_129"><p id="-i7ctdg_132">Contagem de refer&ecirc;ncias para exclus&atilde;o segura</p></li></ul></section><section class="chapter"><h4 id="implementa-o-java" data-toc="implementa-o-java"><span class="control" id="-i7ctdg_135">Implementa&ccedil;&atilde;o Java</span></h4><div class="code-block" data-lang="java">
import java.nio.file.*;
import java.io.IOException;

public class AcyclicGraph {
    public static void main(String[] args) {
        Path base = Paths.get(&quot;/tmp/fs_graph&quot;);
        
        try {
            // Criar estrutura base
            Path sharedFile = base.resolve(&quot;shared/data.bin&quot;);
            Files.createDirectories(sharedFile.getParent());
            Files.write(sharedFile, &quot;Dados compartilhados&quot;.getBytes());
            
            // Criar links
            Path user1Link = base.resolve(&quot;home/user1/link_to_shared&quot;);
            Path user2Link = base.resolve(&quot;home/user2/shared_data&quot;);
            
            Files.createSymbolicLink(user1Link, sharedFile);
            Files.createSymbolicLink(user2Link, sharedFile);
            
            // Verificar links
            System.out.println(&quot;Link 1 aponta para: &quot; + Files.readSymbolicLink(user1Link));
            System.out.println(&quot;Link 2 aponta para: &quot; + Files.readSymbolicLink(user2Link));
            
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
</div></section></section><section class="chapter"><h3 id="2-5-grafo-geral" data-toc="2-5-grafo-geral"><span class="control" id="-i7ctdg_139">2.5 Grafo Geral</span></h3><section class="chapter"><h4 id="caracter-sticas_3" data-toc="caracter-sticas_3"><span class="control" id="-i7ctdg_143">Caracter&iacute;sticas</span></h4><ul class="list _bullet" id="-i7ctdg_141"><li class="list__item" id="-i7ctdg_144"><p id="-i7ctdg_147">Permite ciclos (autorrefer&ecirc;ncias)</p></li><li class="list__item" id="-i7ctdg_145"><p id="-i7ctdg_148">Requer coleta de lixo para gerenciamento</p></li><li class="list__item" id="-i7ctdg_146"><p id="-i7ctdg_149">Raro em sistemas de arquivos reais</p></li></ul></section><section class="chapter"><h4 id="implementa-o-java-simula-o" data-toc="implementa-o-java-simula-o"><span class="control" id="-i7ctdg_152">Implementa&ccedil;&atilde;o Java (Simula&ccedil;&atilde;o)</span></h4><div class="code-block" data-lang="java">
import java.util.*;

class GraphNode {
    String name;
    List&lt;GraphNode&gt; links = new ArrayList&lt;&gt;();
    
    GraphNode(String name) {
        this.name = name;
    }
    
    void addLink(GraphNode node) {
        links.add(node);
    }
}

public class GeneralGraph {
    public static void main(String[] args) {
        GraphNode root = new GraphNode(&quot;/&quot;);
        GraphNode dir1 = new GraphNode(&quot;dir1&quot;);
        GraphNode dir2 = new GraphNode(&quot;dir2&quot;);
        
        // Criar ciclo
        root.addLink(dir1);
        root.addLink(dir2);
        dir1.addLink(dir2);
        dir2.addLink(dir1); // Ciclo!
        
        // Detectar ciclos (simplificado)
        System.out.println(&quot;Grafo contém ciclos? &quot; + 
            (hasCycle(root, new HashSet&lt;&gt;()) ? &quot;Sim&quot; : &quot;Não&quot;));
    }
    
    private static boolean hasCycle(GraphNode node, Set&lt;GraphNode&gt; visited) {
        if (visited.contains(node)) return true;
        visited.add(node);
        for (GraphNode child : node.links) {
            if (hasCycle(child, visited)) return true;
        }
        visited.remove(node);
        return false;
    }
}
</div></section></section><section class="chapter"><h3 id="2-6-tabela-comparativa" data-toc="2-6-tabela-comparativa"><span class="control" id="-i7ctdg_156">2.6 Tabela Comparativa</span></h3><div class="table-wrapper"><table class="wide" id="-i7ctdg_154"><thead><tr class="ijRowHead" id="-i7ctdg_157"><th id="-i7ctdg_163"><p><span class="control" id="-i7ctdg_167">Estrutura</span></p></th><th id="-i7ctdg_164"><p><span class="control" id="-i7ctdg_168">Vantagens</span></p></th><th id="-i7ctdg_165"><p><span class="control" id="-i7ctdg_169">Desvantagens</span></p></th><th id="-i7ctdg_166"><p><span class="control" id="-i7ctdg_170">Uso T&iacute;pico</span></p></th></tr></thead><tbody><tr id="-i7ctdg_158"><td id="-i7ctdg_171"><p><span class="control" id="-i7ctdg_175">&Uacute;nico N&iacute;vel</span></p></td><td id="-i7ctdg_172"><p>Simplicidade</p></td><td id="-i7ctdg_173"><p>Sem organiza&ccedil;&atilde;o</p></td><td id="-i7ctdg_174"><p>Sistemas embarcados simples</p></td></tr><tr id="-i7ctdg_159"><td id="-i7ctdg_176"><p><span class="control" id="-i7ctdg_180">Dois N&iacute;veis</span></p></td><td id="-i7ctdg_177"><p>Isolamento de usu&aacute;rios</p></td><td id="-i7ctdg_178"><p>Compartilhamento dif&iacute;cil</p></td><td id="-i7ctdg_179"><p>Sistemas multi-usu&aacute;rio b&aacute;sicos</p></td></tr><tr id="-i7ctdg_160"><td id="-i7ctdg_181"><p><span class="control" id="-i7ctdg_185">&Aacute;rvore</span></p></td><td id="-i7ctdg_182"><p>Organiza&ccedil;&atilde;o flex&iacute;vel</p></td><td id="-i7ctdg_183"><p>Links n&atilde;o-nativos</p></td><td id="-i7ctdg_184"><p>Maioria dos SOs modernos</p></td></tr><tr id="-i7ctdg_161"><td id="-i7ctdg_186"><p><span class="control" id="-i7ctdg_190">Grafo Ac&iacute;clico</span></p></td><td id="-i7ctdg_187"><p>Compartilhamento eficiente</p></td><td id="-i7ctdg_188"><p>Complexidade de gerenciamento</p></td><td id="-i7ctdg_189"><p>UNIX/Linux</p></td></tr><tr id="-i7ctdg_162"><td id="-i7ctdg_191"><p><span class="control" id="-i7ctdg_195">Grafo Geral</span></p></td><td id="-i7ctdg_192"><p>M&aacute;xima flexibilidade</p></td><td id="-i7ctdg_193"><p>Risco de vazamentos</p></td><td id="-i7ctdg_194"><p>Casos especiais</p></td></tr></tbody></table></div><p id="-i7ctdg_155">Cada implementa&ccedil;&atilde;o Java demonstra como criar e manipular essas estruturas na pr&aacute;tica, usando tanto a API tradicional (<code class="code" id="-i7ctdg_196">java.io.File</code>) quanto a NIO moderna (<code class="code" id="-i7ctdg_197">java.nio.file</code>).</p></section></section><section class="chapter"><h2 id="3-implementa-o-pr-tica-em-java" data-toc="3-implementa-o-pr-tica-em-java"><span class="control" id="-i7ctdg_201">3. Implementa&ccedil;&atilde;o Pr&aacute;tica em Java</span></h2><section class="chapter"><h3 id="3-1-navega-o-em-rvore-de-diret-rios" data-toc="3-1-navega-o-em-rvore-de-diret-rios"><span class="control" id="-i7ctdg_204">3.1 Navega&ccedil;&atilde;o em &Aacute;rvore de Diret&oacute;rios</span></h3><div class="code-block" data-lang="java">
import java.nio.file.*;
import java.io.*;

public class DirectoryTree {
    // == COMO RODAR ==
    // 1. javac DirectoryTree.java
    // 2. java DirectoryTree [diretório]
    
    public static void main(String[] args) throws IOException {
        Path start = Paths.get(args.length &gt; 0 ? args[0] : &quot;.&quot;);
        System.out.println(&quot;Estrutura a partir de: &quot; + start.toAbsolutePath());
        
        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {
            @Override
            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) {
                System.out.println(&quot; &quot;.repeat(dir.getNameCount()*2) + &quot;📁 &quot; + dir.getFileName());
                return FileVisitResult.CONTINUE;
            }
            
            @Override
            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) {
                System.out.println(&quot; &quot;.repeat(file.getNameCount()*2) + &quot;📄 &quot; + file.getFileName());
                return FileVisitResult.CONTINUE;
            }
        });
    }
}
</div></section><section class="chapter"><h3 id="3-2-gerenciamento-de-links-simb-licos" data-toc="3-2-gerenciamento-de-links-simb-licos"><span class="control" id="-i7ctdg_207">3.2 Gerenciamento de Links Simb&oacute;licos</span></h3><div class="code-block" data-lang="java">
import java.nio.file.*;

public class LinkManager {
    // == COMO RODAR ==
    // 1. javac LinkManager.java
    // 2. java LinkManager
    
    public static void main(String[] args) throws IOException {
        Path target = Paths.get(&quot;original.txt&quot;);
        Files.writeString(target, &quot;Conteúdo original&quot;);
        
        Path link = Paths.get(&quot;atalho.txt&quot;);
        Files.createSymbolicLink(link, target);
        
        System.out.println(&quot;Target real: &quot; + Files.readSymbolicLink(link));
        System.out.println(&quot;Mesmo arquivo? &quot; + Files.isSameFile(target, link));
    }
}
</div></section></section><section class="chapter"><h2 id="4-t-cnicas-avan-adas" data-toc="4-t-cnicas-avan-adas"><span class="control" id="-i7ctdg_211">4. T&eacute;cnicas Avan&ccedil;adas</span></h2><section class="chapter"><h3 id="4-1-contagem-de-refer-ncias-grafo-ac-clico" data-toc="4-1-contagem-de-refer-ncias-grafo-ac-clico"><span class="control" id="-i7ctdg_214">4.1 Contagem de Refer&ecirc;ncias (Grafo Ac&iacute;clico)</span></h3><div class="code-block" data-lang="java">
class FileNode {
    String name;
    int refCount = 1;
    List&lt;FileNode&gt; children = new ArrayList&lt;&gt;();
    
    void addReference() { refCount++; }
    boolean removeReference() { return --refCount == 0; }
}
</div></section><section class="chapter"><h3 id="4-2-detec-o-de-ciclos-grafo-geral" data-toc="4-2-detec-o-de-ciclos-grafo-geral"><span class="control" id="-i7ctdg_217">4.2 Detec&ccedil;&atilde;o de Ciclos (Grafo Geral)</span></h3><div class="code-block" data-lang="java">
boolean hasCycle(FileNode node) {
    return hasCycle(node, new HashSet&lt;&gt;());
}

boolean hasCycle(FileNode node, Set&lt;FileNode&gt; visited) {
    if (visited.contains(node)) return true;
    visited.add(node);
    for (FileNode child : node.children) {
        if (hasCycle(child, visited)) return true;
    }
    visited.remove(node);
    return false;
}
</div></section></section><section class="chapter"><h2 id="5-tabela-de-opera-es-por-estrutura" data-toc="5-tabela-de-opera-es-por-estrutura"><span class="control" id="-i7ctdg_220">5. Tabela de Opera&ccedil;&otilde;es por Estrutura</span></h2><div class="table-wrapper"><table class="wide" id="-i7ctdg_219"><thead><tr class="ijRowHead" id="-i7ctdg_221"><th id="-i7ctdg_227"><p><span class="control" id="-i7ctdg_231">Opera&ccedil;&atilde;o</span></p></th><th id="-i7ctdg_228"><p><span class="control" id="-i7ctdg_232">&Uacute;nico N&iacute;vel</span></p></th><th id="-i7ctdg_229"><p><span class="control" id="-i7ctdg_233">&Aacute;rvore</span></p></th><th id="-i7ctdg_230"><p><span class="control" id="-i7ctdg_234">Grafo Ac&iacute;clico</span></p></th></tr></thead><tbody><tr id="-i7ctdg_222"><td id="-i7ctdg_235"><p>Busca</p></td><td id="-i7ctdg_236"><p>O(n)</p></td><td id="-i7ctdg_237"><p>O(log n)</p></td><td id="-i7ctdg_238"><p>O(log n)</p></td></tr><tr id="-i7ctdg_223"><td id="-i7ctdg_239"><p>Inser&ccedil;&atilde;o</p></td><td id="-i7ctdg_240"><p>O(1)</p></td><td id="-i7ctdg_241"><p>O(log n)</p></td><td id="-i7ctdg_242"><p>O(log n)</p></td></tr><tr id="-i7ctdg_224"><td id="-i7ctdg_243"><p>Exclus&atilde;o</p></td><td id="-i7ctdg_244"><p>O(1)</p></td><td id="-i7ctdg_245"><p>O(log n)</p></td><td id="-i7ctdg_246"><p>O(log n)*</p></td></tr><tr id="-i7ctdg_225"><td id="-i7ctdg_247"><p>Compartilhamento</p></td><td id="-i7ctdg_248"><p>N&atilde;o</p></td><td id="-i7ctdg_249"><p>Limitado</p></td><td id="-i7ctdg_250"><p>Completo</p></td></tr><tr id="-i7ctdg_226"><td id="-i7ctdg_251"><p>(*) Requer coleta de l&oacute;gico se houver ciclos</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="6-exerc-cios-pr-ticos" data-toc="6-exerc-cios-pr-ticos"><span class="control" id="-i7ctdg_256">6. Exerc&iacute;cios Pr&aacute;ticos</span></h2><section class="chapter"><h3 id="miss-o-1-backup-seletivo" data-toc="miss-o-1-backup-seletivo"><span class="control" id="-i7ctdg_259">Miss&atilde;o 1: Backup Seletivo</span></h3><div class="code-block" data-lang="java">
// Implemente um sistema que:
// 1. Varre estrutura de diretórios
// 2. Copia apenas arquivos modificados desde último backup
// 3. Mantém estrutura original
</div></section><section class="chapter"><h3 id="miss-o-2-sistema-de-quotas" data-toc="miss-o-2-sistema-de-quotas"><span class="control" id="-i7ctdg_262">Miss&atilde;o 2: Sistema de Quotas</span></h3><div class="code-block" data-lang="java">
// Crie um monitor que:
// 1. Calcula uso por usuário
// 2. Considera links simbólicos
// 3. Bloqueia novos arquivos ao atingir limite
</div></section><section class="chapter"><h3 id="miss-o-3-navegador-visual" data-toc="miss-o-3-navegador-visual"><span class="control" id="-i7ctdg_265">Miss&atilde;o 3: Navegador Visual</span></h3><div class="code-block" data-lang="java">
// Desenvolva uma interface que:
// 1. Mostra estrutura como árvore
// 2. Diferencia links/reais
// 3. Permite navegação interativa
</div></section></section><section class="chapter"><h2 id="mindmap" data-toc="mindmap"><span class="control" id="-i7ctdg_268">Mindmap</span></h2></section><div class="last-modified">08 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="7-2-metodos-de-acesso.html" class="navigation-links__prev">7.2 M&eacute;todos de Acesso a Arquivos</a><a href="7-4-montagem-de-sistemas-de-arquivos.html" class="navigation-links__next">7.4 Montagem de Sistemas de Arquivos</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>