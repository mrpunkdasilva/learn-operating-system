<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-03-31T23:31:40.222102977"><title>4.6 Threads em Java | Operating System</title><script type="application/json" id="virtual-toc-data">[{"id":"explica-o-detalhada","level":0,"title":"Explicação Detalhada","anchor":"#explica-o-detalhada"},{"id":"exemplo-completo-produtor-consumidor","level":0,"title":"Exemplo Completo: Produtor-Consumidor","anchor":"#exemplo-completo-produtor-consumidor"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="4.6 Threads em Java | Operating System"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Operating System Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/4-6-threads-em-java.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="4.6 Threads em Java | Operating System"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/4-6-threads-em-java.html#webpage",
    "url": "writerside-documentation/4-6-threads-em-java.html",
    "name": "4.6 Threads em Java | Operating System",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Operating System Help"
}</script><!-- End Schema.org --></head><body data-id="4-6-Threads-em-Java" data-main-title="4.6 Threads em Java" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Process and Scheduler///Domus 4///a.md|Threads"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Operating System  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="4-6-Threads-em-Java" id="4-6-Threads-em-Java.md">4.6 Threads em Java</h1><section class="chapter"><h2 id="explica-o-detalhada" data-toc="explica-o-detalhada"><span class="control" id="-rncsna_12">Explica&ccedil;&atilde;o Detalhada</span></h2><section class="chapter"><h3 id="1-threads-em-java-vis-o-geral" data-toc="1-threads-em-java-vis-o-geral"><span class="control" id="-rncsna_15">1. Threads em Java: Vis&atilde;o Geral</span></h3><p id="-rncsna_14">Em Java, as threads s&atilde;o fundamentais para a execu&ccedil;&atilde;o de programas concorrentes. Todo programa Java come&ccedil;a com pelo menos uma thread, chamada de <span class="control" id="-rncsna_16">thread principal</span>, que executa o m&eacute;todo <code class="code" id="-rncsna_17">main()</code>. A partir da&iacute;, outras threads podem ser criadas para realizar tarefas em paralelo.</p></section><section class="chapter"><h3 id="2-criando-threads-em-java" data-toc="2-criando-threads-em-java"><span class="control" id="-rncsna_21">2. Criando Threads em Java</span></h3><p id="-rncsna_19">Existem duas maneiras principais de criar threads em Java:</p><ol class="list _decimal" id="-rncsna_20" type="1"><li class="list__item" id="-rncsna_22"><p id="-rncsna_24"><span class="control" id="-rncsna_26">Estendendo a classe <code class="code" id="-rncsna_27">Thread</code></span>:</p><ul class="list _bullet" id="-rncsna_25"><li class="list__item" id="-rncsna_28"><p id="-rncsna_30">Cria-se uma nova classe que herda de <code class="code" id="-rncsna_31">Thread</code> e sobrescreve o m&eacute;todo <code class="code" id="-rncsna_32">run()</code>.</p></li><li class="list__item" id="-rncsna_29"><p id="-rncsna_33">Exemplo:</p><div class="code-block" data-lang="java">
class MinhaThread extends Thread {
    public void run() {
        System.out.println(&quot;Thread em execução!&quot;);
    }
}

public class Main {
    public static void main(String[] args) {
        MinhaThread thread = new MinhaThread();
        thread.start(); // Inicia a thread
    }
}
</div></li></ul></li><li class="list__item" id="-rncsna_23"><p id="-rncsna_35"><span class="control" id="-rncsna_37">Implementando a interface <code class="code" id="-rncsna_38">Runnable</code></span>:</p><ul class="list _bullet" id="-rncsna_36"><li class="list__item" id="-rncsna_39"><p id="-rncsna_42">Cria-se uma classe que implementa <code class="code" id="-rncsna_43">Runnable</code> e define o m&eacute;todo <code class="code" id="-rncsna_44">run()</code>.</p></li><li class="list__item" id="-rncsna_40"><p id="-rncsna_45">Essa abordagem &eacute; mais flex&iacute;vel, pois permite que a classe herde de outra classe.</p></li><li class="list__item" id="-rncsna_41"><p id="-rncsna_46">Exemplo:</p><div class="code-block" data-lang="java">
class MeuRunnable implements Runnable {
    public void run() {
        System.out.println(&quot;Thread em execução!&quot;);
    }
}

public class Main {
    public static void main(String[] args) {
        Thread thread = new Thread(new MeuRunnable());
        thread.start(); // Inicia a thread
    }
}
</div></li></ul></li></ol></section><section class="chapter"><h3 id="3-exemplo-completo-somat-rio-com-threads" data-toc="3-exemplo-completo-somat-rio-com-threads"><span class="control" id="-rncsna_53">3. Exemplo Completo: Somat&oacute;rio com Threads</span></h3><p id="-rncsna_49">Vamos implementar o exemplo do somat&oacute;rio de um n&uacute;mero inteiro n&atilde;o negativo usando threads em Java.</p><section class="chapter"><h4 id="c-digo-java_1" data-toc="c-digo-java_1"><span class="control" id="-rncsna_56">C&oacute;digo Java</span></h4><div class="code-block" data-lang="java">
class Somatorio implements Runnable {
    private int upper; // Limite superior do somatório
    private int sum = 0; // Resultado do somatório

    // Construtor
    public Somatorio(int upper) {
        this.upper = upper;
    }

    // Método run (executado pela thread)
    public void run() {
        for (int i = 1; i &lt;= upper; i++) {
            sum += i;
        }
        System.out.println(&quot;Somatório até &quot; + upper + &quot; = &quot; + sum);
    }

    // Método para obter o resultado do somatório
    public int getSum() {
        return sum;
    }
}

public class Main {
    public static void main(String[] args) {
        if (args.length != 1) {
            System.out.println(&quot;Uso: java Main &lt;valor&gt;&quot;);
            return;
        }

        int upper = Integer.parseInt(args[0]); // Converte o argumento para inteiro
        Somatorio task = new Somatorio(upper); // Cria a tarefa
        Thread thread = new Thread(task); // Cria a thread
        thread.start(); // Inicia a thread

        try {
            thread.join(); // Espera a thread terminar
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println(&quot;Resultado final: &quot; + task.getSum());
    }
}
</div></section><section class="chapter"><h4 id="explica-o-do-c-digo" data-toc="explica-o-do-c-digo"><span class="control" id="-rncsna_59">Explica&ccedil;&atilde;o do C&oacute;digo</span></h4><ol class="list _decimal" id="-rncsna_58" type="1"><li class="list__item" id="-rncsna_60"><p id="-rncsna_62"><span class="control" id="-rncsna_64">Classe <code class="code" id="-rncsna_65">Somatorio</code></span>:</p><ul class="list _bullet" id="-rncsna_63"><li class="list__item" id="-rncsna_66"><p id="-rncsna_68">Implementa <code class="code" id="-rncsna_69">Runnable</code> e define o m&eacute;todo <code class="code" id="-rncsna_70">run()</code>, que calcula o somat&oacute;rio.</p></li><li class="list__item" id="-rncsna_67"><p id="-rncsna_71">O resultado &eacute; armazenado na vari&aacute;vel <code class="code" id="-rncsna_72">sum</code>.</p></li></ul></li><li class="list__item" id="-rncsna_61"><p id="-rncsna_73"><span class="control" id="-rncsna_75">Classe <code class="code" id="-rncsna_76">Main</code></span>:</p><ul class="list _bullet" id="-rncsna_74"><li class="list__item" id="-rncsna_77"><p id="-rncsna_80">Cria uma inst&acirc;ncia de <code class="code" id="-rncsna_81">Somatorio</code> e uma thread associada a ela.</p></li><li class="list__item" id="-rncsna_78"><p id="-rncsna_82">Inicia a thread com <code class="code" id="-rncsna_83">start()</code> e espera seu t&eacute;rmino com <code class="code" id="-rncsna_84">join()</code>.</p></li><li class="list__item" id="-rncsna_79"><p id="-rncsna_85">Exibe o resultado final.</p></li></ul></li></ol></section><section class="chapter"><h4 id="como-executar" data-toc="como-executar"><span class="control" id="-rncsna_92">Como Executar</span></h4><p id="-rncsna_87">Compile e execute o programa:</p><div class="code-block" data-lang="bash">
javac Main.java
java Main 5
</div><p id="-rncsna_89">Sa&iacute;da esperada:</p><div class="code-block" data-lang="none">
Somatório até 5 = 15
Resultado final: 15
</div></section></section><section class="chapter"><h3 id="4-estados-de-uma-thread-em-java" data-toc="4-estados-de-uma-thread-em-java"><span class="control" id="-rncsna_97">4. Estados de uma Thread em Java</span></h3><p id="-rncsna_94">Uma thread em Java pode estar em um dos seguintes estados:</p><ol class="list _decimal" id="-rncsna_95" type="1"><li class="list__item" id="-rncsna_98"><p id="-rncsna_104"><span class="control" id="-rncsna_105">NEW</span>: A thread foi criada, mas ainda n&atilde;o foi iniciada.</p></li><li class="list__item" id="-rncsna_99"><p id="-rncsna_106"><span class="control" id="-rncsna_107">RUNNABLE</span>: A thread est&aacute; em execu&ccedil;&atilde;o ou pronta para executar.</p></li><li class="list__item" id="-rncsna_100"><p id="-rncsna_108"><span class="control" id="-rncsna_109">BLOCKED</span>: A thread est&aacute; bloqueada, esperando por um lock.</p></li><li class="list__item" id="-rncsna_101"><p id="-rncsna_110"><span class="control" id="-rncsna_111">WAITING</span>: A thread est&aacute; esperando indefinidamente por outra thread.</p></li><li class="list__item" id="-rncsna_102"><p id="-rncsna_112"><span class="control" id="-rncsna_113">TIMED_WAITING</span>: A thread est&aacute; esperando por um tempo espec&iacute;fico.</p></li><li class="list__item" id="-rncsna_103"><p id="-rncsna_114"><span class="control" id="-rncsna_115">TERMINATED</span>: A thread terminou sua execu&ccedil;&atilde;o.</p></li></ol><section class="chapter"><h4 id="diagrama-de-estados" data-toc="diagrama-de-estados"><span class="control" id="-rncsna_119">Diagrama de Estados</span></h4><svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 905.19140625 412" style="max-width: 905.19140625px;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="mermaid_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M422.336,22L422.336,26.167C422.336,30.333,422.336,38.667,422.336,44.917C422.336,51.167,422.336,55.333,422.336,59.5C422.336,63.667,422.336,67.833,422.336,69.917L422.336,72"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M422.336,112L422.336,118.167C422.336,124.333,422.336,136.667,422.336,145.917C422.336,155.167,422.336,161.333,422.336,167.5C422.336,173.667,422.336,179.833,422.336,182.917L422.336,186"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge2" d="M370.672,214.182L319.298,222.319C267.924,230.455,165.177,246.727,117.156,257.947C69.136,269.167,75.842,275.333,82.547,281.5C89.253,287.667,95.959,293.833,99.312,296.917L102.665,300"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge3" d="M378.671,226L365.208,232.167C351.744,238.333,324.817,250.667,314.72,259.917C304.622,269.167,311.354,275.333,318.086,281.5C324.817,287.667,331.549,293.833,334.915,296.917L338.281,300"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge4" d="M474,224.704L491.63,231.087C509.26,237.469,544.521,250.235,565.431,259.701C586.341,269.167,592.901,275.333,599.462,281.5C606.022,287.667,612.582,293.833,615.862,296.917L619.142,300"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge5" d="M146.163,300L152.869,293.833C159.575,287.667,172.987,275.333,195.049,265.457C217.111,255.58,247.823,248.16,278.535,240.741C309.247,233.321,339.96,225.901,355.316,222.191L370.672,218.481"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge6" d="M381.946,300L388.677,293.833C395.409,287.667,408.873,275.333,415.604,266.083C422.336,256.833,422.336,250.667,422.336,244.5C422.336,238.333,422.336,232.167,422.336,229.083L422.336,226"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge7" d="M661.694,300L668.254,293.833C674.814,287.667,687.934,275.333,675.573,265.297C663.212,255.261,625.37,247.522,587.527,239.783C549.685,232.044,511.842,224.305,492.921,220.435L474,216.566"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge8" d="M474,213.09L534.61,221.409C595.22,229.727,716.44,246.363,777.05,257.765C837.66,269.167,837.66,275.333,837.66,281.5C837.66,287.667,837.66,293.833,837.66,296.917L837.66,300"></path><path marker-end="url(#mermaid_stateDiagram-barbEnd)" style=";fill:none" class="edge-thickness-normal edge-pattern-solid transition" id="edge9" d="M837.66,340L837.66,344.167C837.66,348.333,837.66,356.667,837.66,362.917C837.66,369.167,837.66,373.333,837.66,377.5C837.66,381.667,837.66,385.833,837.66,387.917L837.66,390"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(422.3359375, 149)" class="edgeLabel"><g transform="translate(-20.9765625, -12)" class="label"><foreignObject height="24" width="41.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>start()</p></span></div></foreignObject></g></g><g transform="translate(62.4296875, 263)" class="edgeLabel"><g transform="translate(-54.4296875, -12)" class="label"><foreignObject height="24" width="108.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>esperando lock</p></span></div></foreignObject></g></g><g transform="translate(297.890625, 263)" class="edgeLabel"><g transform="translate(-41.953125, -12)" class="label"><foreignObject height="24" width="83.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>wait(), join()</p></span></div></foreignObject></g></g><g transform="translate(579.78125, 263)" class="edgeLabel"><g transform="translate(-74.953125, -12)" class="label"><foreignObject height="24" width="149.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>sleep(), wait(timeout)</p></span></div></foreignObject></g></g><g transform="translate(186.3984375, 263)" class="edgeLabel"><g transform="translate(-49.5390625, -12)" class="label"><foreignObject height="24" width="99.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>lock adquirido</p></span></div></foreignObject></g></g><g transform="translate(422.3359375, 263)" class="edgeLabel"><g transform="translate(-62.4921875, -12)" class="label"><foreignObject height="24" width="124.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>notify(), notifyAll()</p></span></div></foreignObject></g></g><g transform="translate(701.0546875, 263)" class="edgeLabel"><g transform="translate(-26.3203125, -12)" class="label"><foreignObject height="24" width="52.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>timeout</p></span></div></foreignObject></g></g><g transform="translate(837.66015625, 263)" class="edgeLabel"><g transform="translate(-45.9453125, -12)" class="label"><foreignObject height="24" width="91.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>run() termina</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(422.3359375, 15)" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle></g><g transform="translate(422.3359375, 92)" id="state-NEW-1" class="node  statediagram-state"><rect height="40" width="53.40625" y="-20" x="-26.703125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-18.703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="37.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NEW</p></span></div></foreignObject></g></g><g transform="translate(422.3359375, 206)" id="state-RUNNABLE-8" class="node  statediagram-state"><rect height="40" width="103.328125" y="-20" x="-51.6640625" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-43.6640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="87.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>RUNNABLE</p></span></div></foreignObject></g></g><g transform="translate(124.4140625, 320)" id="state-BLOCKED-5" class="node  statediagram-state"><rect height="40" width="92.640625" y="-20" x="-46.3203125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-38.3203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="76.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>BLOCKED</p></span></div></foreignObject></g></g><g transform="translate(360.11328125, 320)" id="state-WAITING-6" class="node  statediagram-state"><rect height="40" width="84.015625" y="-20" x="-42.0078125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-34.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="68.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WAITING</p></span></div></foreignObject></g></g><g transform="translate(640.41796875, 320)" id="state-TIMED_WAITING-7" class="node  statediagram-state"><rect height="40" width="142.828125" y="-20" x="-71.4140625" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-63.4140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="126.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TIMED_WAITING</p></span></div></foreignObject></g></g><g transform="translate(837.66015625, 320)" id="state-TERMINATED-9" class="node  statediagram-state"><rect height="40" width="119.0625" y="-20" x="-59.53125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-51.53125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="103.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TERMINATED</p></span></div></foreignObject></g></g><g transform="translate(837.66015625, 397)" id="state-root_end-9" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle><circle height="10" width="10" r="5" class="state-end"></circle></g></g></g></g></svg></section></section><section class="chapter"><h3 id="5-threads-daemon-vs-n-o-daemon" data-toc="5-threads-daemon-vs-n-o-daemon"><span class="control" id="-rncsna_123">5. Threads Daemon vs. N&atilde;o Daemon</span></h3><ul class="list _bullet" id="-rncsna_121"><li class="list__item" id="-rncsna_124"><p id="-rncsna_126"><span class="control" id="-rncsna_128">Threads Daemon</span>:</p><ul class="list _bullet" id="-rncsna_127"><li class="list__item" id="-rncsna_129"><p id="-rncsna_133">S&atilde;o threads de baixa prioridade que rodam em segundo plano.</p></li><li class="list__item" id="-rncsna_130"><p id="-rncsna_134">A JVM termina quando todas as threads <span class="control" id="-rncsna_135">n&atilde;o daemon</span> terminam.</p></li><li class="list__item" id="-rncsna_131"><p id="-rncsna_136">Exemplo: Garbage Collector.</p></li><li class="list__item" id="-rncsna_132"><p id="-rncsna_137">Definida com <code class="code" id="-rncsna_138">thread.setDaemon(true)</code>.</p></li></ul></li><li class="list__item" id="-rncsna_125"><p id="-rncsna_139"><span class="control" id="-rncsna_141">Threads N&atilde;o Daemon</span>:</p><ul class="list _bullet" id="-rncsna_140"><li class="list__item" id="-rncsna_142"><p id="-rncsna_144">S&atilde;o threads comuns.</p></li><li class="list__item" id="-rncsna_143"><p id="-rncsna_145">A JVM espera que todas terminem antes de encerrar.</p></li></ul></li></ul></section><section class="chapter"><h3 id="6-jvm-e-o-sistema-operacional-hospedeiro" data-toc="6-jvm-e-o-sistema-operacional-hospedeiro"><span class="control" id="-rncsna_150">6. JVM e o Sistema Operacional Hospedeiro</span></h3><p id="-rncsna_147">A JVM pode mapear threads Java para threads do sistema operacional de diferentes formas:</p><ul class="list _bullet" id="-rncsna_148"><li class="list__item" id="-rncsna_151"><p id="-rncsna_154"><span class="control" id="-rncsna_155">Modelo 1:1</span>: Cada thread Java &eacute; associada a uma thread do kernel (usado no Windows).</p></li><li class="list__item" id="-rncsna_152"><p id="-rncsna_156"><span class="control" id="-rncsna_157">Modelo M:N</span>: V&aacute;rias threads Java s&atilde;o mapeadas para um n&uacute;mero menor de threads do kernel (usado em alguns sistemas UNIX).</p></li><li class="list__item" id="-rncsna_153"><p id="-rncsna_158"><span class="control" id="-rncsna_159">Modelo M:1</span>: V&aacute;rias threads Java s&atilde;o mapeadas para uma &uacute;nica thread do kernel (antigo modelo &quot;green threads&quot;).</p></li></ul></section></section><section class="chapter"><h2 id="exemplo-completo-produtor-consumidor" data-toc="exemplo-completo-produtor-consumidor"><span class="control" id="-rncsna_164">Exemplo Completo: Produtor-Consumidor</span></h2><p id="-rncsna_161">Vamos implementar uma solu&ccedil;&atilde;o para o problema cl&aacute;ssico do produtor-consumidor usando threads em Java.</p><section class="chapter"><h3 id="c-digo-java" data-toc="c-digo-java"><span class="control" id="-rncsna_167">C&oacute;digo Java</span></h3><div class="code-block" data-lang="java">
import java.util.LinkedList;
import java.util.Queue;

class MessageQueue {
    private Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();
    private int capacity;

    public MessageQueue(int capacity) {
        this.capacity = capacity;
    }

    public synchronized void send(String message) throws InterruptedException {
        while (queue.size() == capacity) {
            wait(); // Espera se a fila estiver cheia
        }
        queue.add(message);
        notifyAll(); // Notifica os consumidores
    }

    public synchronized String receive() throws InterruptedException {
        while (queue.isEmpty()) {
            wait(); // Espera se a fila estiver vazia
        }
        String message = queue.poll();
        notifyAll(); // Notifica os produtores
        return message;
    }
}

class Produtor implements Runnable {
    private MessageQueue queue;

    public Produtor(MessageQueue queue) {
        this.queue = queue;
    }

    public void run() {
        try {
            for (int i = 0; i &lt; 10; i++) {
                String message = &quot;Mensagem &quot; + i;
                queue.send(message);
                System.out.println(&quot;Produzido: &quot; + message);
                Thread.sleep(500); // Simula tempo de produção
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}

class Consumidor implements Runnable {
    private MessageQueue queue;

    public Consumidor(MessageQueue queue) {
        this.queue = queue;
    }

    public void run() {
        try {
            for (int i = 0; i &lt; 10; i++) {
                String message = queue.receive();
                System.out.println(&quot;Consumido: &quot; + message);
                Thread.sleep(1000); // Simula tempo de consumo
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}

public class Main {
    public static void main(String[] args) {
        MessageQueue queue = new MessageQueue(5); // Fila com capacidade 5
        Thread produtor = new Thread(new Produtor(queue));
        Thread consumidor = new Thread(new Consumidor(queue));

        produtor.start();
        consumidor.start();
    }
}
</div></section><section class="chapter"><h3 id="explica-o-do-c-digo_1" data-toc="explica-o-do-c-digo_1"><span class="control" id="-rncsna_170">Explica&ccedil;&atilde;o do C&oacute;digo</span></h3><ol class="list _decimal" id="-rncsna_169" type="1"><li class="list__item" id="-rncsna_171"><p id="-rncsna_175"><span class="control" id="-rncsna_177">MessageQueue</span>:</p><ul class="list _bullet" id="-rncsna_176"><li class="list__item" id="-rncsna_178"><p id="-rncsna_180">Gerencia uma fila de mensagens com capacidade limitada.</p></li><li class="list__item" id="-rncsna_179"><p id="-rncsna_181">Usa <code class="code" id="-rncsna_182">wait()</code> e <code class="code" id="-rncsna_183">notifyAll()</code> para sincroniza&ccedil;&atilde;o.</p></li></ul></li><li class="list__item" id="-rncsna_172"><p id="-rncsna_184"><span class="control" id="-rncsna_186">Produtor</span>:</p><ul class="list _bullet" id="-rncsna_185"><li class="list__item" id="-rncsna_187"><p id="-rncsna_188">Gera mensagens e as envia para a fila.</p></li></ul></li><li class="list__item" id="-rncsna_173"><p id="-rncsna_189"><span class="control" id="-rncsna_191">Consumidor</span>:</p><ul class="list _bullet" id="-rncsna_190"><li class="list__item" id="-rncsna_192"><p id="-rncsna_193">Recebe e processa mensagens da fila.</p></li></ul></li><li class="list__item" id="-rncsna_174"><p id="-rncsna_194"><span class="control" id="-rncsna_196">Main</span>:</p><ul class="list _bullet" id="-rncsna_195"><li class="list__item" id="-rncsna_197"><p id="-rncsna_198">Cria a fila e inicia as threads do produtor e consumidor.</p></li></ul></li></ol></section></section><div class="last-modified">Last modified: 01 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="4-5-bibliotecas-de-threads.html" class="navigation-links__prev">4.5 Bibliotecas de threads</a><a href="4-7-aspectos-do-uso-de-threads.html" class="navigation-links__next">4.7 Aspectos do Uso de Threads</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.js"></script></body></html>